<!DOCTYPE html>
<html> 
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的會員</title>
    <link rel="icon" href="public/images/scoopi-icon-yellow.ico" type="image/x-icon">
    <link rel="shortcut icon" href="public/images/scoopi-icon-yellow.ico" type="image/x-icon">
    <link rel="stylesheet" href="public/js/WOW-master/css/libs/animate.css">
    <link rel="stylesheet" href="public/css/styles.css">
  </head>
  <body>
    <header class="inner-page">
      <h1 class="smheader"> <a href="index.html"><img src="public/images/scoopi-icon-yellow.png" alt=""><span>Scoopi Gelato Shop</span></a></h1>
      <div class="container"><a class="header-logo" href="index.html"> <img src="public/images/scoopi-logo-default.png" alt="Scoopi的LOGO"></a><a class="icon-menu icon-menu-inner-page" id="btn-nav-switch" href="javascript:;">
          <div class="icon-menu-inner"><img src="public/images/icon-menu.svg" alt="icon-menu"></div></a>
        <nav class="nav-inner-page" id="primary-navigation"> 
          <ul>
            <li> <a href="about.html"> 關於我們</a></li>
            <li> <a href="product.html">產品介紹</a></li>
            <li> <a href="news.html">最新消息</a></li>
            <li> <a href="contact.html">聯絡|宅配</a></li>
            <li> <a href="login.html">我的會員</a></li>
          </ul>
        </nav>
      </div>
    </header>
    <div class="headerbg"><img class="img-fluid" src="public/images/header-innerpage-bg.svg"></div>
    <div class="container">
      <div class="row"> 
        <div class="col-12 col-md-6-center-login">
          <form class="form" action="javascript:;" id="login">
            <h2><span>我的會員</span></h2>
            <div class="input-group">
              <label for="account">帳號</label>
              <input type="text" name="account" placeholder="請輸入帳號或信箱" autocomplete="off">
            </div>
            <div class="input-group">
              <label for="account">密碼</label>
              <input class="message" type="password" name="password" placeholder="請輸入密碼">
            </div>
            <div class="input-group"> 
              <div class="w-50">
                <input type="checkbox" name="remember">記住帳號
              </div>
              <div class="w-50 forget-id"><a>忘記帳號或密碼?</a></div>
            </div>
            <div class="input-group flex-space-between"><a class="btn-secondary w-48" id="open-modal" href="javascript:;" onclick="openModal();">註冊</a>
              <input class="btn-primary w-48" type="submit" name="" value="登入">
            </div>
            <div class="input-group snslogin">
              <p>社群登入</p>
            </div>
            <div class="input-group flex-space-between login-icons"><a href="#">
                <div class="btn-snslogin w-30"> <img class="login-brand" src="public/images/login-google.svg"></div></a><a href="#">
                <div class="btn-snslogin w-30"> <img class="login-brand" src="public/images/login-facebook.svg"></div></a><a href="#">
                <div class="btn-snslogin w-30"><img class="login-brand" src="public/images/login-line.png"></div></a></div>
          </form>
          <div class="modal-wrapper">
            <div class="modal-content">
              <div class="btn-close" id="btn-close-switch">X</div>
              <h2> <span>加入我們</span></h2>
              <form action="javascript:;" id="main">
                <div class="form-group"> 
                  <label for="account">帳號</label>
                  <input class="message" type="text" name="account" placeholder="請輸入帳號" autocomplete="off">
                </div>
                <div class="form-group">
                  <label for="email">信箱</label>
                  <input class="message" type="text" name="email" placeholder="請輸入信箱">
                </div>
                <div class="form-group">
                  <label for="password">密碼</label>
                  <input class="message" type="password" name="password" placeholder="請輸入6~12位密碼">
                </div>
                <div class="form-group">
                  <label for="confirm-password">密碼確認</label>
                  <input class="message" type="password" name="confirm-password" placeholder="再次輸入密碼">
                </div>
                <div class="input-group signup">
                  <input type="checkbox" name="check">
                  <p class="checkbox-description">我同意<span>會員條款</span>與<span>隱私權政策</span></p>
                </div>
                <div class="input-group">
                  <input type="checkbox" name="check">
                  <p class="checkbox-description">訂閱電子報</p>
                </div>
                <div class="form-group">
                  <input class="btn-secondary" type="submit" name="" value="註冊">
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer> 
      <div class="container"> 
        <div class="row">
          <div class="col-md-4 col-12 footer-md-left footer-phone-add-md">
            <p>(04) 2222-3456</p>
            <p>台中市南區興大路145號</p>
          </div>
          <div class="col-md-4 col-12 footer-md-center"><img class="img-fluid footer-logo" src="public/images/scoopi-logo-white.png" alt="">
            <p class="copyright copyright-md footer-order-sm-1">Copyright © 2022 Scoopi</p>
          </div>
          <div class="col-md-4 col-12 footer-md-right">
            <div class="social-icon"><a href="#"><img class="img-fluid" src="public/images/footer-instagram.png" alt="官方Instagram"></a><a href="#"><img class="img-fluid" src="public/images/footer-facebook.png" alt="官方Facebook"></a><a href="#"><img class="img-fluid" src="public/images/footer-line.png" alt="官方Line"></a></div>
            <p class="email">service@scoopi.com.tw</p>
            <p class="footer-phone-add-sm">(04) 2222-3456</p>
            <p class="footer-phone-add-sm">台中市南區興大路145號</p>
            <p class="copyright copyright-sm footer-order-sm-1">Copyright © 2022 Scoopi</p>
          </div>
        </div>
      </div>
    </footer>
    <script src="public/js/validate/underscore-min.js"></script>
    <script src="public/js/validate/moment.min.js"></script>
    <script src="public/js/validate/validate.js"> </script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
    <script src="public/js/WOW-master/dist/wow.min.js"></script>
    <script src="public/js/script.js"></script>
    <script>
      (function() {
          validate.extend(validate.validators.datetime, {
              parse: function(value, options) {
              return +moment.utc(value);
              },
              format: function(value, options) {
              var format = options.dateOnly ? "YYYY-MM-DD" : "YYYY-MM-DD hh:mm:ss";
              return moment.utc(value).format(format);
              }
          });
          var constraints = {
              account: {
              presence: {message: '為必填項目'},
              email: {message: '為電子郵件的格式'}
              },
              password: {
              presence: {message: '為必填項目'},
              length: {
                  minimum: 6,
                  message: '最少六個字元'
              }
              },
              "confirm-password": {
              presence: {message: '為必填項目'},
              equality: {
                  attribute: "password",
                  message: "密碼不一致"
              }
              },
          
          
          };
          // Hook up the form so we can prevent it from being posted
          var form = document.querySelector("form#main");
          form.addEventListener("submit", function(ev) {
              ev.preventDefault();
              handleFormSubmit(form);
          });
          // Hook up the inputs to validate on the fly
          var inputs = document.querySelectorAll("input, textarea, select")
          for (var i = 0; i < inputs.length; ++i) {
              inputs.item(i).addEventListener("change", function(ev) {
              var errors = validate(form, constraints) || {};
              showErrorsForInput(this, errors[this.name])
              });
          }
          function handleFormSubmit(form, input) {
              // validate the form against the constraints
              var errors = validate(form, constraints);
              // then we update the form to reflect the results
              showErrors(form, errors || {});
              if (!errors) {
              showSuccess();
              }
          }
          // Updates the inputs with the validation errors
          function showErrors(form, errors) {
              // We loop through all the inputs and show the errors for that input
              _.each(form.querySelectorAll("input[name], select[name]"), function(input) {
              // Since the errors can be null if no errors were found we need to handle
              // that
              showErrorsForInput(input, errors && errors[input.name]);
              });
          }
          // Shows the errors for a specific input
          function showErrorsForInput(input, errors) {
              // This is the root of the input
              var formGroup = closestParent(input.parentNode, "form-group")
              // Find where the error messages will be insert into
              , messages = formGroup.querySelector(".messages");
              // First we remove any old messages and resets the classes
              resetFormGroup(formGroup);
              // If we have errors
              if (errors) {
              // we first mark the group has having errors
              formGroup.classList.add("has-error");
              // then we append all the errors
              _.each(errors, function(error) {
                  addError(messages, error);
              });
              } else {
              // otherwise we simply mark it as success
              formGroup.classList.add("has-success");
              }
          }
          // Recusively finds the closest parent that has the specified class
          function closestParent(child, className) {
              if (!child || child == document) {
              return null;
              }
              if (child.classList.contains(className)) {
              return child;
              } else {
              return closestParent(child.parentNode, className);
              }
          }
          function resetFormGroup(formGroup) {
              // Remove the success and error classes
              formGroup.classList.remove("has-error");
              formGroup.classList.remove("has-success");
              // and remove any old messages
              _.each(formGroup.querySelectorAll(".help-block.error"), function(el) {
              el.parentNode.removeChild(el);
              });
          }
          // Adds the specified error with the following markup
          // <p class="help-block error">[message]</p>
          function addError(messages, error) {
              var block = document.createElement("p");
              block.classList.add("help-block");
              block.classList.add("error");
              block.innerText = error;
              messages.appendChild(block);
          }
          function showSuccess() {
              // We made it \:D/
              alert("Success!");
          }
          })();
      
      let modalWrapper = document.getElementsByClassName('modal-wrapper')[0]
      let btnCloseSwitch = document.getElementById('btn-close-switch')
      btnCloseSwitch.addEventListener('click',closeModal)
      modalWrapper.addEventListener('click',closeModal)
      //LOGIN的
      function openModal(){
      //- console.log('test')
      modalWrapper.classList.add('active')
      }
    </script>
  </body>
</html>